# ============================================
# ChatHandler Configuration (v1.2.0)
# ============================================

# Enable/Disable ChatHandler
openmeteo.chat.enabled=true

# ============================================
# Memory Configuration
# ============================================

# Memory type: 'inmemory' or 'redis'
openmeteo.chat.memory.type=inmemory

# Session TTL in minutes (default: 1440 = 24 hours)
openmeteo.chat.memory.session-ttl=1440

# ============================================
# Redis Configuration (if memory.type=redis)
# ============================================

spring.data.redis.host=localhost
spring.data.redis.port=6379
# spring.data.redis.password=
# spring.data.redis.database=0
spring.data.redis.timeout=2000ms

# Redis connection pool
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0

# ============================================
# Spring AI - Azure OpenAI Configuration
# ============================================

# Azure OpenAI credentials
spring.ai.azure.openai.api-key=${AZURE_OPENAI_API_KEY:your-api-key}
spring.ai.azure.openai.endpoint=${AZURE_OPENAI_ENDPOINT:https://your-endpoint.openai.azure.com}

# Chat model configuration
spring.ai.azure.openai.chat.options.deployment-name=gpt-4
spring.ai.azure.openai.chat.options.temperature=0.7
spring.ai.azure.openai.chat.options.max-tokens=2000
spring.ai.azure.openai.chat.options.top-p=1.0
spring.ai.azure.openai.chat.options.frequency-penalty=0.0
spring.ai.azure.openai.chat.options.presence-penalty=0.0

# ============================================
# Spring AI - OpenAI Configuration (Alternative)
# ============================================

# Uncomment to use OpenAI instead of Azure
# spring.ai.openai.api-key=${OPENAI_API_KEY:your-api-key}
# spring.ai.openai.chat.options.model=gpt-4
# spring.ai.openai.chat.options.temperature=0.7

# ============================================
# Spring AI - Anthropic Configuration (Alternative)
# ============================================

# Uncomment to use Anthropic Claude
# spring.ai.anthropic.api-key=${ANTHROPIC_API_KEY:your-api-key}
# spring.ai.anthropic.chat.options.model=claude-3-opus-20240229
# spring.ai.anthropic.chat.options.temperature=0.7

# ============================================
# Actuator & Metrics
# ============================================

# Enable metrics endpoints
management.endpoints.web.exposure.include=health,metrics,prometheus
management.metrics.enable.chat=true

# Prometheus metrics
management.metrics.export.prometheus.enabled=true

# ============================================
# Logging
# ============================================

# ChatHandler logging
logging.level.com.openmeteo.mcp.chat=INFO

# Spring AI logging (set to DEBUG for troubleshooting)
logging.level.org.springframework.ai=INFO

# Redis logging
logging.level.org.springframework.data.redis=INFO
